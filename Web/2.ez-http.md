304跳转 信息获取 get报文伪装

题目奉上	![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728550594978-0a5034df-05eb-4edf-9ce6-816b85a131af.png)

图中有2个要素

注意到clickMe是可以点的，但是点了没反应，直接看源码，![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728550663995-7303f8d8-fd57-44fe-b1f6-38b8ca779eb2.png)  
button是disabled 

我们前端能获得的信息不多，直接把disabled改掉，点一下看看  
![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728550815200-52d6c208-9d35-4f91-be74-e63ac93ece4f.png)  
这里说明有个东西藏在任何网站爬虫都找不到的地方![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728550885773-51c196b5-7318-4380-a66f-c47695d8306a.png)

本题是robots.txt 我们直接访问  
![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728550923706-8ea428a7-96c8-47ea-8b11-2f38df94d05b.png)  
![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728550970767-4b9ff902-949c-46a3-b203-fa7adaaed81b.png)

这里我们又有了新方法，即编写爬虫脚本来找找浏览器网页有什么内容



它不让我们来去看这个文件，那我们就手动访问就行。

![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551117683-5477c346-40bd-4af8-914f-14596f8dbe60.png)

直接跳转，说明存在一个302跳转的过程，我们抓个包试试

![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551201636-05fa969e-8754-48c3-a770-478bd4349382.png)



![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551219539-56bfa8fe-9f1d-4087-8583-35c4fc2c0780.png)

果然，存在一个重定位网站，

Location到一个新网站了

response给了提示，关键点在cookie里面，我们看左边，有个whuctfer = 0 ,尝试修改一下

把0改成1，发包

![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551362009-9a8ea20d-7d22-4cda-a159-d34a4f072ed2.png)

提示让本地的用户来访问，所以说我们要伪装成本地用户  

常用的伪装方法有X-Forward-For 我们把它改成127.0.0.1就可以假装是本地的用户访问的了

，关于X大类，还有别的伪装方法![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551539429-bd66b945-42af-4912-a2dd-ee11e5cfd98f.png)

比如修改cookie user-agent refer(来源ip)之类的，

[https://blog.csdn.net/weixin_44953600/article/details/107515973](https://blog.csdn.net/weixin_44953600/article/details/107515973)这里有很多，我们继续。

![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551851557-33893caa-72f8-41de-a29f-87c250c900f6.png)

注意，你得放在头里面，get请求的body是没什么用的

它让我们必须得是某浏览器，不就是ua吗？我们来改

![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551915652-ecd87065-91cf-4188-8ab2-1692507e51a6.png)

ok 你得来自.............................

我们用referer伪造一下

![](https://cdn.nlark.com/yuque/0/2024/png/45579424/1728551986544-d8233190-86b9-40e1-8db3-dc9e3b0337a6.png)

爽！ 我们得到了flag

